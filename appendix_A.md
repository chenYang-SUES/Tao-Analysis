# 附录A 数理逻辑基础

本附录是为了简要介绍**数理逻辑**，使用数理逻辑可以进行严格的数学证明。知道数理逻辑的工作原理有助于我们理解数学的思维方式，而一旦掌握了这种思维方式，我们就能采用明确而又自信的方法来研究数学概念和数学问题，包括本书中许多证明类的问题。

有逻辑的写作是一项非常有用的技能，它与清晰、高效、有说服力或者富含信息的写作多少有些关系，但并不完全相同。能够同时做到这些当然是最理想的状态，但有时我们不得不做出妥协，然而你可以通过实践使自己的书写更多地满足上面的要求。因此，一个合乎逻辑的论述或许有时看起来比较笨重、过于复杂或者显得并不那么让人信服。但是，合乎逻辑地书写具有一个很大的优势，即只要你全部的假设都是正确的，并且步骤合乎逻辑，人们就会完全相信你的结论是正确的。如果使用其他的书写风格，那么人们有理由相信某些内容是真的，但是相信（convince）和无疑（sure）是有区别的。

合乎逻辑并非书写的唯一优良特性，事实上有时它会成为一种阻力。例如，当数学家想要让其他数学家相信某个未经充分论证的命题为真时，他们通常采用简短通俗的论证，而这种论证在逻辑上不严谨。当然，不是数学家的人也常常这样做。所以，“非逻辑的”命题或者论述并不一定是坏事。在许多通常情形下，人们有充分的理由不去强调逻辑性。但是，我们应该意识到逻辑推理与通俗论述之间的区别，而且不要试图把一个非逻辑的论述看作是具有逻辑严密性的。特别地，如果一道习题要求你给出证明，那么它希望你的答案是合乎逻辑的。

就像其他技能一样，逻辑是需要通过学习才能掌握的一种技能，但逻辑性同样是与生俱来的。实际上，在日常言谈以及自身内心的（非数学的）推理中，你或许都在无意识地使用逻辑定律。然而，想要认识这种天生的技能，并把它运用到像在数学证明中所遇到的那些抽象情形中，我们还需要一些训练和练习。由于逻辑性是与生俱来的，所以你学习的逻辑定律是**有意义的**。当你发觉自己不得不死记硬背一条逻辑原理或者逻辑定律，而没有感觉到任何心灵上的“碰撞”，或许无法理解为什么那条定律又用时，你也许就不能在实践中正确有效地使用那条逻辑定律。因此，在本书内容正式结束之前，请不要用填鸭式的方法来学习本附录，这种方法没有用。相反，**请你收起用来标记重点的荧光笔**，认真**阅读**并**理解**附录中的内容，而不只是**学**了它！

## A.1 数学命题

任何一个数学论证都是通过一系列的数学命题展开的，这些数学命题是关于各种各样的数学对象（数、向量和函数等）和它们之间的关系（加法、相等和微分）等的精确表述，这些数学对象既可以是常量也可以是变量，稍后我们会对此进行详细的说明。命题[^1]则要么为真，要么为假。

**例 A.1.1** $2+2=4$ 是一个真命题，$2+2=5$ 则是一个假命题。

并非每个数学符号的组合都是一个命题，例如，
$$=2++4=-=2$$
不是命题，我们有时称它为**不符合语法规则的**或**定义不明确的**。上一个例子中命题是**符合语法规则的**或**定义明确的**。因此，符合语法规则的命题要么为真，要么为假；而不符合语法规则的命题则既不是真的，也不是假的（实际上，我们通常认为它们根本不是命题）。关于不符合语法规则的命题，我们有这样一个更微妙的例子：
$$0/0=1$$
被零整除是无定义的，从而上述命题不符合语法规则。一个合乎逻辑的论证不应该包含任何不符合语法规则的命题，例如，若一个论证使用了诸如 $x/y=z$ 这样的命题，那么必须首先保证 $y$ 不等于零。很多对“$0=1$”以及其他一些假命题的所谓证明都予忽略“命题必须符合语法规则”这一准则有关。

很多人大概都曾在数学作业中写过一些不符合语法规则的或者不准确的命题，而想要表达其他某些符合语法规则的准确命题。从某种程度上来说，这是可行的。这类似于一个句子中的某些单词出现了拼写错误，或者用一个不太准确的或者有语法错误的单词来代替准确的单词（用“She ran good”来代替“She ran well”）。在很多情况下，你（或者资历老的人）能够发现这些错误并进行纠正。但是这看起来很不专业，而且还会让人觉得你可能不知道自己在说什么。另外，如果你的确不知道自己在说什么，而且盲目地使用了数学定律或者逻辑定律，那么写出一个不符合语法规则的命题将很快地误导你写出越来越多的废话，通常都是那种依据评分标准得不到分数的东西。因此，注意保持命题符合语法规则以及表述准确非常重要，尤其是当我们正在学习一门学科时就更加重要。一旦拥有了更多技能和信心，你当然就再次拥有了轻松说话的能力，因为你知道自己在做什么，并且不再过多地担心陷入说废话的危险之中。

每一个符合语法规则的命题要么为真，要么为假，不可能既为真又为假（在自由变量存在的条件下，命题的真假有可能与这些变量的值有关，稍后详述），这是数理逻辑的基本公理之一。更进一步地说，命题的真假取决于命题自身，而非人们对该命题的看法（当然，所有的定义和记号都要保持一致）。所以，为了证明一个命题为真，只需要证明它不为假。而为了证明一个命题为假，只需要证明它不为真。这正是**反证法**这一有力工具的原理基础，稍后我们将对此进行讨论。只要我们处理的概念是准确的，使得我们能够用客观一致的方法来确定（至少原则上可以确定）命题的真假，那么这个公理就是有效的。然而，当我们处理非数学问题时，这个公理就变得不可信了，所以把数理逻辑应用到非数学问题上就可能导致错误。（例如，命题“这块石头重 $23.6\rm{kg}$”）是完全准确和客观的，从而用数学推理对它进行操作是相当安全的，而模糊的命题如“这块石头很重”“这段音乐很美”或者“上帝是存在的”就有很大的问题。因此，尽管数理逻辑是一个非常有用的强大工具，但它依然存在一些应用上的限制。）而我们依然可以尝试着对这些情形（例如，对现实生活中的现象构造一个**数学模型**）使用逻辑（或者类似于逻辑的原理），但这些属于科学和哲学领域，而非数学，对此我们不再进一步地讨论。

**注 A.1.2** 存在一些其他的逻辑模型，它们试图处理那些不绝对为真或不绝对为假的命题，如模态逻辑、直觉主义逻辑和模糊逻辑，但这些内容都超出了本书的范围。

“是真的”与“**是有用的**”或“**是有效的**”并不相同。例如，命题
$$2=2$$
是真的，但它不太可能是非常有用的。命题
$$4 \leqslant 4$$
也是真的，但它并没有非常有效（命题 $4=4$ 更加准确）。还有可能存在这样一种情况，即虽然命题是假的，但却有用，例如，
$$\pi = 22/7$$
是假的，但它作为第一近似值依然有用。在数学推理过程中，我们只关心命题的真假，并不在意命题是否有用以及是否有效。因为命题的真假是客观的（人们都会认同这种说法），并且我们可以利用精准的法则推导出真命题，但有用性和有效性在某种程度上只是一种观点，而且不遵守任何精确法则。另外，在一个论证中，即使某些个别的步骤可能看起来并不是非常的有用或有效，但最后的结论可能是相当不平凡的（即不是显然为真的），并且是有用的，这种情况实际上非常普遍。

命题与**表达式**不同。命题要么为真，要么为假，而表达式则由一系列的数学符号组成，它把生成的某个数学对象（数、矩阵、函数和集合等）作为自身的值。例如，
$$2+3*5$$
是一个表达式，而不是命题，它把生成的数作为自身的值。然而，
$$2+3*5=17$$
是一个命题，而不是表达式。因此，问 $2+3*5$ 是真还是假是没有任何意义的。与命题一样，表达式也可能是定义明确的，或者定义不明确的。例如，$2+3/0$是定义不明确的。在某些情况下，比如试图把一个向量加到一个矩阵上，或在一个函数的定义域之外对该函数求值，如$\sin^{-1}(2)$，就会出现更多微妙的定义不明确的表达式。

利用**关系** $=、<、\geqslant、\in和\subset $等，或者利用**性质**（如“是素数”“是连续的”“是可逆的”等），我们能够用表达式来构造命题。例如，“$30+5$是素数”是一个命题，就像“$30+5\leqslant 42-7$”也是命题一样。注意，数学命题允许含有文字。

通过使用**逻辑连接词**，比如和、或、非、如果······那么、当且仅当等，我们可以利用较简单的命题来构造**复核命题**。下面我们按照直观性递减的次序来给出一些例子。

**合取** 设 $X$ 是一个命题，$Y$ 也是一个命题。如果 $X$ 和 $Y$ 都为真，那么“$X$ 和 $Y$”也为真，否则“$X$ 和 $Y$”为假。例如“$2+2=4$ 和 $3+3=6$”是真命题，但是“$2+2=4$ 和 $3+3=5$”就不是真命题。又比如“$2+2=4$ 和 $2+2=4$”为真，尽管这个命题有些累赘。逻辑关注的是命题的真假，并非有效性。

根据英语的表达方式，我们可以用很多种方法来改写命题“$X$ 和 $Y$”，例如 “$X$ 并且 $Y$” 或 “$X$ 和 $Y$ 都为真”等。有趣的是，命题“$X$，但$Y$”与命题“$X$ 和 $Y$”在逻辑上是等价的，但两者的内涵不同（两个命题都断定了 $X$ 和 $Y$ 同时为真，但第一种形式暗示了 $X$ 和 $Y$ 是相互对比的，而第二种形式则暗示了 $X$ 和 $Y$ 是互相支持的）。再次重申，逻辑与命题的真假有关，与命题的内涵及其暗含的内容无关。

**析取** 设 $X$ 是一个命题，$Y$ 也是一个命题。如果 $X$ 和 $Y$ 中至少有一个为真，那么命题“$X$ 或 $Y$”也为真。例如“$2+2=4$ 或 $3+3=5$”是真命题。另外“$2+2=4$ 或 $3+3=6$”也为真（尽管它不太有效，“$2+2=4$ 和 $3+3=6$” 就是一个较强的命题。）因此在数理逻辑中，“或”默认表示“包含或”。我们这样做是因为，在使用“包含或”的前提下，为了证明“$X$ 或 $Y$”为真，我们只需证明 $X$ 和 $Y$ 中有一个为真，而不需要证明另一个命题为假。所以，我们不需要看第二个等式就能知道“$2+2=4$ 或 $2353+5931=7284$”是真命题。就像前面讨论的那样，尽管“$2+2=4$ 或 $2+2=4$”高度无效，但它仍然是真命题。

如果我们确实希望使用“异或”，那么就使用像“要么 $X$ 为真，要么 $Y$ 为真，但两者不同时为真”或者“$X$ 和 $Y$ 中恰好有一个为真这样的命题”。“异或”的确越来越多地出现在数学中，但它远不及“包含或”那样经常地出现。

**否定** 命题“$X$ 不是真的”或者“$X$ 是假的”或者“$X$ 不成立”被称作 $X$ 的**否定**，它是真的当且仅当 $X$ 时假的，它是假的当且仅当 $X$ 是真的。例如，命题“$2+2=5$不成立”是一个真命题。当然我们可以把这个命题简写成“$2+2 \neq 5$”。

否定把“和”转化成“或”。例如“简·多伊的头发是黑色的，并且眼睛是蓝色的”的否定是“简·多伊的头发不是黑色的，或眼睛不是蓝色的”，而不是“简·多伊的头发不是黑色的，并且眼睛不是蓝色的”。（你能看出这是为什么吗？）类似地，如果 $x$ 是整数，那么命题“$x$ 是偶数并且是非负数”的否定是“$x$ 是奇数或负数”，而不是“$x$ 是奇数并且是负数”（注意到这里“或”是“包含或”而不是“异或”有多么地重要）。另外，命题“$x \geqslant 2$ 并且 $x \leqslant 6$”（即 "$2 \leqslant x \leqslant 6$"）的否定是“$x < 2$ 或 $x > 6$”，而不是 “$x < 2$ 并且 $x > 6$”，也不是“$x<x>6$”。

类似地，否定把“或”转化成“和”。命题“简·多伊的头发是棕色的或黑色的”的否定是“简·多伊的头发不是棕色的并且不是黑色的”，即“简·多伊的头发既不是棕色的也不是黑色的”。如果 $x$ 是一个实数，那么“$x \geqslant 1$ 或 $x \leqslant -1$”的否定是“$x<1$ 或 $x > -1$”（即$-1<x<1$）。

一个命题的否定将产生一个不可能为真的命题，这种情形是很有可能发生的。例如，如果 $x$ 是整数，那么“$x$ 是偶数或奇数”的否定是“$x$ 既不是偶数也不是奇数”，这个命题显然不可能为真。记住，即使一个命题是假的，它仍旧是个命题，而且利用一个偶尔涉及假命题的论证，我们绝对有可能得到一个真命题。（反证法就属于这种类型，另一个例子是分成若干种情形来证明。如果我们把证明分成三种互斥的情形：情形1、情形2和情形3，那么在任何情况下，总有两种情形是假的，而只有一种情形是真的。但这未必表示整个证明是错误的或者其结论是假的。）

否定有时用起来并不那么直观，尤其是存在多重复否定的时候。例如，命题“要么 $x$ 不是奇数，要么 $x$ 不大于或等于 $3$，但两者不同时成立”用起来就不是特别舒服。幸运的是，我们很少遇到多于一个或多于两个否定同时存在的情况，因为否定常常会相互抵消。例如，“$X$ 不是真的”的否定是“$X$是真的”或者更简洁地记作“$X$”。当然，如果我们需要对更加复杂的表达式进行否定，那么我们就要谨慎些，因为这个过程中要处理“和” 与 “或” 之间的转换等这类的事情。

**当且仅当（iff）** 设 $X$ 是一个命题，$Y$ 也是一个命题。如果只要 $X$ 为真，$Y$ 就为真，并且只要 $Y$ 为真，$X$ 就为真（即 $X$ 和 $Y$ 具有“同等的真”），那么我们称“$X$ 为真等价于 $Y$ 为真”。换言之，“$X$ 和 $Y$ 在逻辑上是等价的命题”，或者“$X$ 为真等价于 $Y$为真”，或者“$X \leftrightarrow Y$”。所以例如，如果 $x$ 是一个实数，那么命题“$x=3$ 当且仅当 $2x=6$”是真的，这意味着只要 $x=3$ 为真，就有 $2x=6w$为真；并且只要 $2x=6$ 为真，就有 $x=3$ 为真。另外，命题“$x=3$ 当且仅当 $x^2=9$”是假的，虽然当 $x=3$ 时 $x^2=9$ 也为真，但是当 $x^2=9$ 为真时，$x=3$ 并不自动为真（思考一下，当 $x=-3$ 时，会发生什么）。

同等真的命题也是同等假的：如果 $X$ 和 $Y$ 在逻辑上是等价的，并且 $X$ 是假的，那么 $Y$ 也一定是假的（因为如果 $Y$ 是真的，那么 $X$ 也必定为真）。反过来，任意两个同等假的命题在逻辑上也是等价的。例如，$2+2=5$，当且仅当 $4+4=10$。

有时证明两个以上的命题在逻辑上等价是一件很有意思的事情。例如，我们希望能够断定 $X、Y$ 和 $Z$ 这三个命题在逻辑上是等价的。这意味着，只要其中一个命题为真，这三个命题就全为真。同时还意味着，如果其中一个命题是假的，那么这三个命题就全为假。这看上去好像要证明很多逻辑蕴含关系，但实际上，一旦对 $X、Y$ 和 $Z$ 之间的逻辑蕴含关系进行了足够的阐述，我们就可以推导出其他所有的蕴含关系，从而推导出它们在逻辑上是等价的。例子参见习题 A.1.5 和 习题 A.1.6。

## 习题

A.1.1 命题“要么 $X$ 为真，要么 $Y$ 为真，但两者不同时为真”的否定是什么？

**答：** 根据用真值表：
| $X$ | $Y$ | （$X$ 或 $Y$） 且非（$X$ 且 $Y$） | 对上一列的否定 |
| --- | --- | --------------------------------- | -------------- |
| T   | T   | F                                 | T              |
| T   | F   | T                                 | F              |
| F   | T   | T                                 | F              |
| F   | F   | F                                 | T              |

所以上述命题的否定为“要么 $X$ 和 $Y$ 同时为真，要么 $X$ 和 $Y$ 同时为假”，即“$X \iff Y$”。

A.1.2 命题 $X$ 为真当且仅当 $Y$ 为真”的否定是什么？（可能有多重方式来表示这个否定。）
**答：** 根据真值表：
| $X$ | $Y$ | $X \iff Y$ | 非（$X \iff Y$） |
| --- | --- | ---------- | ---------------- |
| T   | T   | T          | F                |
| T   | F   | F          | T                |
| F   | T   | F          | T                |
| F   | F   | T          | F                |

所以上述命题的否定为“要么 $X$ 为真，要么 $Y$ 为真，但两者不同时为真”。也可以说成是“$X$ 异或 $Y$”。

A.1.3 假设你已经证明了“只要 $X$ 为真，$Y$ 就为真”以及“只要 $X$ 为假，$Y$就为假”。那么你是否已经证明了 $X$ 和 $Y$ 在逻辑上是等价的？请给出解释。
**答：** 根据题设有$X \Longrightarrow Y$，要证明 $X \iff Y$ 只需要再证明 $Y \Longrightarrow X$。假设 $Y$ 为真时 $X$ 为假，根据题设有$X$为假时 $Y$ 为假，这与假设矛盾，所以$Y \Longrightarrow X$，所以 $X \iff Y$。<span style="float: right">□</span>

A.1.4 假设你已经证明了“只要 $X$ 为真，$Y$ 就为真”以及“只要 $Y$ 为假，$X$就为假”。那么你是否已经证明了 $X$ 和 $Y$ 在逻辑上是等价的？请给出解释。
**答：** 不能证明 $X$ 和 $Y$ 逻辑上等价。根据题设可知 $X \Longrightarrow Y$ 以及 $\neg Y \Longrightarrow \neg X$。后一个命题是前者的逆否命题，二者是等价的。我们只能证明 $X \Longrightarrow Y$ 而无法证明 $ Y \Longrightarrow X$，所以不能证明 $X$ 和 $Y$ 是等价的。

A.1.5 假设你知道“$X$ 为真当且仅当 $Y$ 为真”，并且你还知道“$Y$ 为真当且仅当 $Z$ 为真”，那么这是否足以证明 $X$、$Y$、$Z$ 在逻辑上是等价的？请给出解释。

答：是的，$X$、$Y$、$Z$ 在逻辑上是等价。如果 $X$ 为真，则 $Y$ 为真（$X \iff Y$），而 $Y$ 为真又可以推导出 $Z$ 为真（$Y \iff Z$）。类似地，我们可以证明 $Y$ 为真时，$X$ 和 $Z$ 为真，以及 $Z$ 为真时，$X$ 和 $Y$ 为真。当$X$为假时，则 $Y$ 也为假（$X \iff Y$），而 $Y$ 为假 又可以推导出 $Z$ 也为假。类似地，我们可以证明 $Y$ 为假时，$X$ 和 $Z$ 为假，以及 $Z$ 为假时 $X$ 和 $Y$ 也为假。由此我们证明了三个命题中只要有一个命题为真，则这三个命题全为；如果其中一个命题为假，则这三个命题全为假。所以这三个命题在逻辑上是等价的。

A.1.6 假设你知道“只要 $X$ 为真，$Y$ 就为真”“只要 $Y$ 为真，$Z$ 就为真”“只要 $Z$ 为真，$X$ 为真”。那么，这是否足以证明 $X$、$Y$、$Z$ 在逻辑上是等价的？请给出解释。

**答：** 是的，可以证明 $X$、$Y$、$Z$ 在逻辑上是等价的。一方面，由于 $X \Longrightarrow Y$ 且 $Y \Longrightarrow Z$，所以当 $X$ 为真时，$Y$ 和 $Z$ 也为真。类似地，可以证明 $Y$ 为真时，$X$ 和 $Z$ 也为真，以及 $Z$ 为真时 $X$ 和 $Y$ 也为真。另一方面，如果$X$ 为假，则 $Z$ 必为假命题，因为如果 $Z$ 为真，根据题设必有 $X$ 为真，这与 $X$ 为假矛盾。同理，$Z$ 为假，则 $Y$ 也必为假。所以 $X$ 为假时，$Y$ 和 $Z$ 必为假。类似地，我们也可以证明 $Y$ 为假时，$X$ 和 $Z$ 为假，以及 $Z$ 为假时 $X$ 和 $Y$ 为假。综上所述，$X$、$Y$、$Z$ 在逻辑上是等价的。

## A.2 蕴含关系

现在我们来考虑一个直观性最弱的常用逻辑关系——蕴涵关系。如果 $X$ 是一个命题，$Y$ 也是一个命题，那么“若 $X$，则 $Y$”是从 $X$ 到 $Y$ 的蕴涵关系。它也可以写成“当 $X$ 为真时，$Y$ 为真”，或者“$X$ 蕴涵 $Y$”，或者“当 $X$ 为真 $Y$ 为真”又或者“$X$ 为真仅当 $Y$ 为真”（最后这个说法需要花费些精力去理解）。$X$ 的真假决定了命题“如果 $X$，那么$Y$”所表达的含义。在 $X$ 为真的前提下，当 $Y$ 为真时，命题“如果 $X$，那么 $Y$”就是真的；当 $Y$ 为假时，命题“如果 $X$，那么 $Y$”就是假的。但是如果 $X$ 为假，那么不管 $Y$ 为真的还是假的，命题“如果 $X$，那么 $Y$”总是真的。换言之，当 $X$ 为真时，命题“如果 $X$，那么 $Y$”蕴涵 $Y$ 为真。但当 $X$ 为假时，由命题“如果 $X$，那么 $Y$”无法判定 $Y$ 的真假，此时这个命题是真的，但却是空虚（也就是说，除了“前提不为真”这个事实外，它不能传递任何新的信息）。

!!! question 随想
    一方面，假设 $Y$ 为假时，$X$ 为真，由于“当 $X$ 为真时，$Y$ 为真”，因此 $Y$ 为真，这与 $Y$ 为假矛盾，所以“当 $X$ 为真时，$Y$ 为真”可以推导出“$X$ 为真仅当 $Y$ 为真”。另一方面，“$X$ 为真仅当 $Y$ 为真” 可以推出 "“$Y$ 为假时“$X$ 为真仅当 $Y$ 为真”是“$X$ 蕴涵 $Y$”的等价命题。<span style="float: right">□</span>

**例 A.2.1** 若 $x$ 是一个整数，那么不管 $x$ 是否真的等于 $2$，命题“如果 $x=2$，那么 $x^2=4$”总为真（虽然只有当 $x$ 等于 $2$ 时这个命题才可能有用）。该命题不能断定 $x=2$，也不能断定 $x^2=4$，但它可以断定当 $x$ 等于 2时，$x^2$ 等于 $4$。如果 $x$ 不等于 $2$，那么该命题仍然为真，但它无法给出关于 $x$ 和 $x^2$ 的任何结论。

上述蕴涵关系存在某些特殊情形，蕴涵关系“如果 $2=2$，那么 $2^2=4$”是真的（真命题蕴涵着真命题）。蕴涵关系“如果 $3=2$，那么 $3^2=4$”是真的（假命题蕴涵着假命题）。蕴涵关系“如果 $-2=2$，那么 $(-2)^2=4$”是真的（假命题蕴涵着真命题）。最后两个蕴涵关系被认为是空虚的，即它们没有提供任何新的信息，因为它们的前提都不是真的。（尽管如此，在证明中使用空虚的蕴涵关系仍有可能达到很好的效果，即空虚的真命题仍是真的。稍后我们将看到这样一个例子。）

就像我们看到的那样，前提不为真并不影响蕴涵关系为真。事实上，情况恰恰相反！（当前提不为真时，蕴涵关系就自动为真）。推翻蕴涵关系的唯一方法就是证明前提为真且结论为假。因此，“如果 $2+2=4$，那么 $4+4=2$”是一个假的蕴涵关系（真命题不蕴涵假命题）。

我们还可以把命题“如果 $X$，那么 $Y$”看作“ $Y$ 至少与 $X$ 一样真”，即如果 $X$ 为真，那么 $Y$ 也必定为真；然而，如果 $X$ 为假，那么 $Y$ 可以与 $X$ 一样假，但 $Y$ 也可以为真。我们应该把上述结论与“$X$ 当且仅当 $Y$”进行比较，其中“$X$ 当且仅当 $Y$”断定了 $X$ 和 $Y$ 具有同等的真。

空虚的真蕴涵关系常用在日常谈话中，有时我们并没有意识到这种蕴涵关系是空虚的。举一个简单的例子，“如果希望是翅膀，那么猪也可以飞翔”。（命题“地狱被冰封了”也是前提不为真的一句流行语。）一个较严肃的例子是“如果约翰下午 $5$ 点下班，那么他现在就在这”。这种类型的命题通常用在结论和前提都是假命题的情形中，但不管怎样，蕴涵关系仍然是真的。顺便说一下，这个命题可以用来阐述反证法的技巧：如果你相信“如果约翰下午 $5$ 点钟下班，那么他现在就在这”，而且你还知道“约翰现在不在这”，那么你就能够推出”约翰不是下午 $5$ 点钟下班“，因为如果约翰下午 $5$ 点钟下班就会导致矛盾产生，注意如何用一个空虚的蕴涵关系来推导有用的真命题。

总之，有时蕴涵关系是空虚的，但这在逻辑上并不是一个真正的问题，因为这些蕴涵关系仍为真，而且空虚的逻辑关系在逻辑论证中依然有用。特别地，我们可以放心地使用像”如果 $X$，那么 $Y$“这样的命题，而不必担心前提 $X$ 是否确实为真（即蕴涵关系是不是空虚的）。

即使前提和结论之间不存在因果关系，蕴涵关系也可以为真。命题”如果 $1+1=2$，那么华盛顿是美国首都“为真（真命题蕴涵真命题），尽管这个命题相当古怪。类似地，命题”如果 $2+2=3$，那么纽约是美国的首都“也为真（假命题蕴涵着假命题）。当然，这样的命题可能是不稳定的（美国的首都或许在某一天会发生改变，但 $1+1$ 将始终等于 $2$），但它至少在此刻是真的。在逻辑论证中，有可能使用非因果性质的蕴涵关系，但我们不推荐这样做，因为这会引起不必要的混淆。（比如，虽然假命题的确可以蕴涵其他任何真命题和假命题，但随意的这样做对读者没有帮助。）

为了证明蕴涵关系”如果 $X$，那么 $Y$“，我们通常首先假设 $X$ 为真，然后利用这个假设（以及其他任何你知道的事实和前提）去推导 $Y$。即使后面我们推导出 $X$ 是假的，但这个方法依然可行。蕴涵关系无法保证 $X$ 为真，它只能保证在 $X$ 为真的前提下 $Y$ 是真的。例如，下面是一个真命题的正确证明，尽管该命题的前提和结论都是假的。

**命题 A.2.2** 如果 $2+2=5$，那么 $4=10-4$。

**证明：** 假设 $2+2=5$，然后对该式两端同时乘以 $2$ 可得 $4+4=10$。再让上式两端同时减去 $4$ 可得 $4=10-4$，结论得证。

另外，在证明一个蕴涵关系时首先假设**结论**成立，然后去推导前提，这是一种常见的错误。例如，下面的命题是正确的，但证明是错误的。<span style="float: right">□</span>

**命题 A.2.3** 设$2x+3=7$，证明 $x=2$。

**证明：**（错误的）因为 $x=2$，所以 $2x=4$，从而 $2x+3=7$.

在证明时，很重要的一点是要能够区分前提和结论。如果不能清晰地区分前提和结论，那么就可能导致混淆，这是人们不希望发生的。

这里有一个简短的证明，它使用的蕴涵关系可能是空虚的。

> **定理 A.2.4** 如果 $n$ 是一个整数，那么 $n(n+1)$ 是一个偶数。

**证明：** 因为 $n$ 是一个整数，所以 $n$ 是偶数或者奇数。如果 $n$ 是偶数，那么 $n(n+1)$ 也是偶数，因为偶数的任意倍数仍是偶数。如果 $n$ 是奇数，那么 $n+1$ 是偶数，这同样意味着 $n(n+1)$ 是偶数。因此，在任何情形下 $n(n+1)$ 都是偶数，这就完成了证明。<span style="float: right">□</span>

注意，这个证明取决于两个蕴涵关系：“如果 $n$ 是偶数，那么 $n(n+1)$是偶数”以及“如果 $n$ 是奇数，那么 $n(n+1)$ 是偶数”。由于 $n$ 不可能同时既是奇数又是偶数，于是这两个蕴涵关系中至少有一个前提是假的，从而是空虚的。但是这两个蕴涵关系都是真的，而且它们都用来证明这个定理，因为我们预先并不知道 $n$ 是偶数还是奇数。即使我们知道 $n$ 的奇偶性，但也不值得费力地去验证它。例如，作为该定理的一个特殊情形，我们立即得到如下推论。

> **推论 A.2.5** 设 $n=(253+142)*123-(423+198)^{342}+538-213$，那么 $n(n+1)$ 是偶数。

在这个特殊情形中，由于我们能够准确地算出 $n$ 的奇偶性——偶数或奇数，于是我们只会用到上述定理中，两个蕴涵关系中的一个，而丢弃掉空虚的那个。这看起来好像更有效，却并不节省力气，因为我们必须确定 $n$ 的奇偶性，而这需要花费一些功夫。这比同时论述两种蕴涵关系（包括空虚的蕴涵关系）更费功夫。虽然这多少有些荒谬，但从长远来看，在一个论证中讨论空虚的、假的或者其他“无用的”命题确实能够节省力气！（当然，我并不是建议你在证明中加入大量费时的且无关紧要的命题，此处我要说的是你没必要过多地关注论证中某些不正确的假设，不管这些假设是真的还是假的，只要你构造的论证可以给出正确的结论就足够了。）

命题“如果$X$, 那么$Y$”与“如果 $Y$，那么 $X$”是不一样的。例如，“如果 $x=2$，那么 $x^2=4$”是真的，但当 $x$ 等于 $-2$ 时，“如果 $x^2=4$，那么 $x=2$”就是假的。这两个命题互为逆命题。因此，一个真蕴涵关系的逆命题不一定是一个真蕴涵关系。我们使用命题“$X$ 当且仅当 $Y$” 来表示命题“如果 $X$，那么 $Y$；并且如果 $Y$，那么 $X$”。例如，我们可以说“$x=2$ 当且仅当 $2x=4$”，因为“如果 $x=2$ 那么 $2x=4$；并且如果 $2x=4$，那么 $x=2$”。考察“当且仅当”命题的一种方法是把“$X$ 当且仅当 $Y$” 看作 “$X$ 恰好与 $Y$ 一样真”。如果其中一个为真，那么另一个也为真；如果其中一个为假，那么另一个也为假。例如，命题“如果 $3=2$，那么 $6=4$”是真的，因为它的前提和结论都是假的。（从这个角度来说，“如果 $X$，那么 $Y$”可以被看作命题“ $Y$ 至少与 $X$ 一样真”。）因此我们可以说“$X$ 与 $Y$ 具有同等的真” 来代替“$X$ 当且仅当 $Y$”。

类似地，命题“如果 $X$ 为真，那么 $Y$ 为真”与“如果 $X$ 为假，那么 $Y$ 为假”也不是同一个命题。“如果 $x=2$，那么 $x^2=4$”并不能推出“如果 $x \neq 2$，那么 $x^2 \neq 4$”，事实上 $x=-2$ 就是一个反例。“如果······那么”与“当且仅当”是不同的命题。（如果我们知道“$X$ 为真当且仅当 $Y$ 为真”，那么我们也就知道了“$X$ 为假当且仅当 $Y$ 为假”。）命题“如果 $X$ 为假，那么 $Y$ 为假”有时被称作“如果 $X$ 为真，那么 $Y$ 为真的**否命题**”。因此，一个真蕴涵关系的否命题并不一定是一个真蕴涵关系。

如果你知道“如果 $X$ 为真，那么 $Y$ 为真”，那么命题“如果 $Y$ 为假，那么 $X$ 为假”也成立（因为当 $Y$ 为假时，$X$ 不可能为真。因为若 $X$ 为真则蕴含着 $Y$ 为真，这是一个矛盾）。例如，如果我们知道“如果 $x=2$，那么 $x^2=4$”，那么我们也就知道了“如果 $x^2 \neq 4$ 那么 $x \neq 2$”。另外，如果我们知道“如果约翰下午 $5$ 点下班，那么他现在就在这”，那么我们也就知道了“如果约翰现在不在这，那么他不是下午 $5$ 点下班”。命题“如果 $Y$ 为假，那么 $X$ 为假”被称作“如果 $X$，那么 $Y$”的**逆否命题**，而且这两个命题具有同等的真值。

特别地，如果你知道 $X$ 蕴涵这某个为假的命题，那么 $X$ 自身必定为假。这正是**反证法**或**归谬法**的思想：为了证明某个命题一定为假，首先假设它是真的，然后证明它蕴涵着某个一定为假的命题（比如，一个同时既为真又为假的命题）。例如：

**命题 A.2.6** 设 $x$ 是一个使得 $\sin(x)=1$ 的正数，那么 $x \geqslant \pi/2$。

**证明：** 利用反证法，假设 $x < \pi/2$。因为 $x$ 是正数，所以 $0<x<\pi/2$。由于在区间 $\left (0,\pi/2\right )$ 上 $\sin(x)$ 是严格递增的，并且 $\sin(0)=0$，$\sin(\pi/2)=1$，所以 $0<\sin<1$。但这与前提条件 $\sin (x)=1$ 相矛盾。因此 $x \geqslant \pi/2$。<span style="float: right">□</span>

在证明过程中，你提出的的假设（在上例中是 $x<\pi/2$）最终将被证明是假的，这是反证法的一个特点。但是这并没有改变整个论证是正确的这一事实，而且最后的结论也是成立的，这是因为最终的结论与假设为真无关。（事实上，结论成立依赖于假设不为真！）

反证法在证明“否定的”命题，如“$X$ 为假”“$a$ 不等于 $b$”这类命题上特别有用。但是，肯定的命题与否定的命题之间的界限有些模糊。（命题 $x \geqslant 2$ 是肯定的命题还是否定的命题？该命题的否定，即 $x<2$ 是肯定的命题还是否定的命题？）所以这并不是一个坚固牢靠的法则。

逻辑学家常常使用一些特殊的符号来表示逻辑连接关系。例如，“$X$ 蕴涵着 $Y$” 可以写成“$X \Longrightarrow Y$”；“$X$ 不是真的”可以写成“$~X$”“$!X$”或“$\neg X$”；“$X$ 和 $Y$”可以写成“$X \wedge Y$”或“$X \& Y$”，等等。但对于普通的数学研究来说，这些符号并不常用，自然语言的可读性更强，也不会占用太多的空间。另外，使用这些符号会让表达式和命题之间的界限变得模糊。理解“$((x=3)\wedge(y=5)) \Longrightarrow Y$”并不像理解“如果 $x=3$ 并且 $y=5$， 那么 $x+y=8$”那样容易。因此一般来说，我不推荐使用这些符号（除了非常直观的符号 $\Longrightarrow$）。

## A.3 证明的结构
为了证明一个命题，我们通常先假设一个前提，并朝着结论的方向努力开展论证。这是一种**直接**证明命题的方法，这种证明过程大概就像下面这样。

**命题 A.3.1** $A$ 蕴涵着 $B$。

**证明：** 设 $A$ 为真，因为 $A$ 为真，所以 $C$ 为真。因为 $C$ 为真，所以 $D$ 为真。因为 $D$ 为真，所以 $B$ 为真，这就是要证明的结论。<span style="float: right">□</span>

下面是这种直接法的另一个例子。

**命题 A.3.2** 如果 $x=\pi$，那么 $\sin(x/2)$

**证明：** 设 $x=\pi$，因为 $x=\pi$，所以 $x/2 =\pi/2$。因为 $x/2=\pi/2$，所以 $\sin(x/2)=1$。因为 $\sin(x/2)=1$，所以 $\sin(x/2)+1=2$。<span style="float: right">□</span>

在上述证明中，我们从一个假设开始，然后逐步推导出结论。从结论出发进行逆向推导也是可行的，看一下什么样的前提蕴涵着该结论。例如，命题 A.3.1 按照这种方式展开的典型证明大概就像下面这样。

**证明：** 为了证明 $\sin(x/2)+2=2$，只需要证明 $\sin(x/2)=1$。由于 $x/2=\pi/2$ 蕴涵着 $\sin(x/2)=1$，所以只需要证明 $x/2=\pi/2$。而 $x/2=\pi/2$ 又能从 $x=\pi$ 中推导出。<span style="float: right">□</span>

从逻辑上讲，命题 A.3.2 的上述两种证明方法是一样的，只是次序安排不同而已。注意，这种证明方式不同于从结论出发来看该结论蕴涵着什么（错误）的证明方式。（就像在命题 A.2.3 中那样。）相反，我们从结论出发来看什么能够蕴涵此结论。

另一个逆向证明的例子如下。

**命题 A.3.3** 设 $0<r<1$ 是一个实数，那么级数 $\Sigma^{\infty}_{n=1}nr^n$ 是收敛的。

证明：要证明这个级数是收敛的，只需要利用比值判断法来证明当 $n \rightarrow \infty$ 时，比值
$$
\left | \frac {r^{n+1}(n+1)}{r^nn} \right | = r \frac{n+1}{n}
$$
收敛于某个小于 $1$ 的数即可。由于 $r$ 小于 $1$，所以只需要证明 $\frac{n+1}{n}$ 收敛于 $1$ 就可以。而 $\frac{n+1}{n}=1+\frac{1}{n}$，所以我们只需要证明 $\frac{1}{n} \rightarrow \infty$。当 $n \rightarrow \infty$ 时，$\frac{1}{n} \rightarrow 0$ 显然成立。<span style="float: right">□</span>

我们还可以把从假设出发的直接证明与从结论出发的逆向证明结合起来。例如，下面就是命题 A.3.1 的一种正确证明。

**证明：** 为了证明 $B$，只需要证明 $D$ 就足够了。那么现在我们来证明 $D$。由假设可得 $A$，从而得到 $C$。因为 $C$ 蕴涵着 $D$，所以我们能够得到 $D$。这就是要证明的结果。<span style="float: right">□</span>

再次重申，从逻辑的角度来看，这与前面的证明完全相同。所以，存在很多方式来书写同一个证明。你想按照什么样的方式由你自己决定，但书写证明的某些特定方式要比其他方式更具可读性，也更加自然，而且不同的安排是为了强调论证的不同部分。（当然，如果刚开始学着进行数学证明，那么你通常会为得到了结果的一个证明而感到高兴，而不会过多地关注于是否采用了“最佳的”安排。然而，这里要强调的是一个证明可以采用很多不同的形式。）

上面你的证明相当简单，因为它只有一个前提和一个结论。如果存在多个前提和结论，并且证明要划分成若干种情形，那么证明过程将会变得更复杂。比如像下面这样繁杂的证明。

**命题 A.3.4** 设 $A$ 和 $B$ 都为真，那么 $C$ 和 $D$ 也为真。

**证明：** 因为 $A$ 为真，所以 $E$ 为真。由 $E$ 和 $B$可知，$F$ 为真。同样地，根据 $A$ 可知，要想证明 $D$，只需要证明 $G$ 为真。此时存在两种情形：$H$ 和 $I$。如果 $H$ 为真，那么由 $F$ 和$H$ 可以得到 $C$，并且由 $A$ 和 $H$ 可以得到 $G$。另外，如果 $I$ 为真，那么根据 $I$ 可以得到 $G$，并且根据 $I$ 和 $G$ 可以得到 $C$。因此，在上述两种情形下我们可以得到 $C$ 和 $G$，从而有 $C$ 和 $D$。<span style="float: right">□</span>

顺便说一下，你可以重新安排上述证明，从而使其具有一个更加整齐的形式，但你至少要知道一个证明将会变得有多复杂。证明一个蕴涵关系可以采取如下几种方法：可以从前提开始直接证明，还可以从结论开始逆向推导，又或者把情况划分成若干种情形，从而将原问题分成几个较容易的子问题。另一种证明方法是反证法，例如你可以按照下述形式来论证。

**命题 A.3.5** 设 $A$ 为真，那么 $B$ 为假。

**证明：** 利用反证法，假设 $B$ 为真，那么这意味着 $C$ 为真。但是 $A$ 为真蕴涵着 $D$ 为真，而这又与 $C$ 为真相矛盾。因此，$B$ 一定为假。<span style="float: right">□</span>

正如你看到的那样，当你试着做出一个证明时，你需要若干种尝试。但随着经验的不断累积，你会越来越清楚地看出来采用哪种方法可以让证明更容易，哪种方法或许可行但需要花费更多的精力，以及哪种方法是不可行的。在大多数情况下，的确只有一种方法是显然可行的。当然，确实存在一些问题可以采用多种方法来解决。因此，当你发现由多种方法可以解决某个问题时，就可以试着找出哪种方法看起来是最简单的，而一旦发现该方法行不通，你就要做好准备换另一种方法去解决问题。

另外，在证明过程中，记清楚哪些命题是已知的（比如前提，由前提推出的结果，或者从其他定理和结论中得出的结果），哪些命题是想要得到的（结论，某些蕴涵着结论的命题，或者某些对最终得到的结论有帮助的中间结果和引理），这对我们是有帮助的。把上述两部分混淆在一起几乎不可能得到好的结果，而且这还会使我们绝望地迷失在证明中。

## A.4 变量与量词

我们从一些简单的命题（比如“$2+2=4$”或者“约翰的头发是黑色的”）出发，利用逻辑连接词构造出复合命题，进而使用各种逻辑定律由假设推导出结论，这被称为**命题逻辑**或**布尔逻辑**。按照这样的思路，我们可以在逻辑学上走得很远。（我们能列出命题逻辑定律，这足以使我们能够做任何想做的事情。但我慎重地决定不这样做，因为如果我那样做的话，你们可能会竭尽所能地去记忆这些定律，可是这并不是学习逻辑学应该做的事情，除非你是一台计算机或者其他某种没有思想的设备。然而，如果你真的好奇到底什么才是正式的逻辑定律，那么你可以在图书馆或者互联网上查阅“命题逻辑定律”或者类似的内容。）

但要学习数学，这种水平的逻辑是不够的，因为它没有包括**变量**这一基本的概念，即那些我们所熟悉的符号，如 $x$ 和 $n$，它们代表了各种未知量，或者等于某个数值，又或者被假定满足某种性质。事实上，为了阐述命题逻辑中的一些概念，我们已经接触过一些这样的**变量**（主要因为当我们不停地谈论不含变量的命题如“$2+2=4$”或者“简的头发是黑色的”一段时间后，就会感到很无聊）。因此**数理逻辑**与命题逻辑一样的，但数理逻辑包含变量这一概念。

**变量**是一个符号，比如 $n$ 或 $x$，它表示某种特定类型的数学对象，比如证书、向量、矩阵等类似的概念。几乎在所有的情况下，变量所代表的对象类型应该是明确的，否则将很难给出符合语法规则的命题的命题。（只有极少数关于变量的命题可以在不知道变量类型的前提下成立。例如，给定一个任意类型的变量 $x$，那么 $x=x$ 是成立的。另外，如果我们还知道 $x=y$，那么我们能够推导出 $y=x$。但是，在明确对象 $x$ 和 $y$ 的类型以及它们能否适用于加法运算之前，我们不能说 $x+y=y+x$。例如，若 $x$ 是一个矩阵而 $y$ 是一个向量，那么上述命题就是不符合语法规则的。因此，如果我们真的希望能够做出一些有用的数学研究，那么每一个变量都应该有一个明确的类型。）

我们可以构造一些包含变量的表达式和命题。例如，如果 $x$ 是一个实变量（即一个代表实数的变量），那么 $x+3$ 是一个表达式，而 $x+3=5$ 是一个命题。此时命题的真假可能就与变量的取值范围有关。譬如，当 $x$ 等于 $2$ 时，命题 $x+3=5$ 为真，而当 $x$ 不等于 $2$ 时，命题就为假。所以，含有变量的命题的真假可能就取决于命题的语境，此时它依赖于 $x$ 的取值。（这是对命题逻辑法则的修改，在这种情况下，所有的命题都有一个确定的真值。）

有时我们不将变量设定为某个具体的对象（除了规定它的类型外）。所以，我们可以把命题 $x+3=5$ 中的 $x$ 看作一个未指定的实数。在这种情形下，我们把这种变量称作**自由变量**。所以，命题 $x+3=5$ 是带有自由变量 $x$ 的命题。含有自由变量的命题可能没有确定的真值，因为这种命题的真值与未指定的变量有关。例如，我们已经知道当 $x$ 是自由实变量时，$x+3=5$ 没有确定的真值，但对于每一个给定的 $x$ 值，该命题显然要么为真，要么为假。另外，命题 $(x+1)^2=x^2+2x+1$ 对任意的实数 $x$ 都为真，所以即使 $x$ 是一个自由变量，我们仍可以把这个命题看作是一个真命题。

在其他情况下，我们通过使用如“设 $x=2$”或“令 $x$ 等于 $2$”这样的声明让一个变量等于某个固定的值。此时，该变量被称为**约束变量**。只包含约束变量而不包含自由变量的命题的真假是确定的。例如，如果令 $x=342$，那么命题“$x+135=477$”的真假是确定的。但如果 $x$ 是自由变量，那么命题“$x+135=477$”可能为真也可能为假，这与 $x$ 的取值有关。因此，就像我们前面曾说过的那样，像“$x+135=477$”这样的命题的真假取决于具体的语境：$x$ 是自由变量还是约束变量。而如果 $x$ 是约束变量，那么就取决于 $x$ 被约束于什么值。

我们还可以通过使用量词“对有所的”或“对某些（个）”把自由变量转化成约束变量。例如，命题
$$
(x+1)^2=x^2+2x+1
$$
含有自由变量 $x$，并且它不必有确定的真值。但命题
$$
(x+1)^2=x^2+2x+1 \ 对所有的实数x都成立
$$
含有约束变量 $x$，并且它的真假是确定的（次是该命题为真）。类似地，命题
$$
x+3=5
$$
含有自由变量 $x$，并且它的真假是不确定的。但命题
$$
x+3=5 \ 对某些实数 x 成立
$$
是真命题，因为当 $x=2$ 时，它就是真的。另外，命题
$$
x+3=5 \ 对所有的实数 x 都成立
$$
是假命题，因为能够找到的某个（实际上能够找到很多个）实数 $x$ 使得 $x+3$ 不等于 $5$。

**全称量词** 设 $P(x)$ 是一个关于自由变量 $x$ 的命题。命题“$P(x)$ 对所有类型为 $T$ 的 $x$ 均为真”意味着，给定任意一个类型为 $T$ 的 $x$，无论 $x$ 的取值是多少，命题 $P(x)$ 均为真。换而言之，这个命题等价于“如果 $x$ 的类型为 $T$，那么 $P(x)$ 为真”。所以，通常采用如下方法证明这个命题：设 $x$ 是一个类型为 $T$ 的自由变量（用类似于“令 $x$ 表示任意一个类型为 $T$ 的对象”的语言来叙述），然后证明 $P(x)$ 关于该对象为真。如果我们能够找到一个反例，也就是说，可以找到一个类型为 $T$ 的元素 $x$ 使得 $P(x)$ 为假，那么这个命题就是假的。例如，命题“对所有的正数 $x$ 均有 $x^2$ 大于 $x$”可以被证明是假的，因为我们可以找出一个例子，比如当 $x=1$ 或 $x=1/2$时，$x^2$ 不大于 $x$。

另外，找出一个使得 $P(x)$ 为真的例子无法证明 $P(x)$ 对**所有的** $x$均为真，它只能推出 $x+3=5$ 对某个实数 $x$ 为真。（这就是经常被我们引用但又有点不准确的口号“不能只用一个例子来证明一个命题”的缘由。更准确的说法是，我们不能根据例子来证明“对所有的······均成立”的命题，但我们可以用这种方法来证明“对某些（个）······成立”的命题。此外，通过找到一个反例，我们能够否定“对所有的······均成立”的命题。）

有时也会发生这样的情形，即根本不存在类型为 $T$ 的变量 $x$。此时命题“$P(x)$ 对所有类型为 $T$ 的 $x$均为真”就是一个空虚的真命题，即它是真的但没有任何内容，类似于空虚的蕴涵关系。例如，命题
$$
6<2x<4 \ 对所有的 \ 3<x<2 \ 均成立
$$
是一个真命题，但容易证明它是空虚的。（这样一个空虚的真命题在论证中仍可能是有用的，尽管这种情形并不经常发生。）

我们可以使用短语“对每个” 或 “对任意的” 来代替 “对所有的”。比如，我们可以把“对所有的实数 $x$ 均有 $(x+1)^2=x^2+2x+1$”改写成“对任意的实数 $x$，$(x+1)^2$ 均等于 $x^2+2x+1$”。从逻辑的角度来说，这些表达是等价的。可以用符号 $\forall$ 来替换“对所有的”，例如，“$\forall x \in X$：$P(x)$为真”以及“$P(x)$ 对 $\forall x \in X$ 均为真”都与“$P(x)$ 对所有的 $x \in X$ 均为真”是等价的。

**存在量词** 命题“$P(x)$ 对某个类型为 $T$ 的 $x$ 为真”意味着，至少存在一个类型为 $T$ 的 $x$ 使得 $P(x)$ 为真，虽然这样的 $x$ 可能不止一个。（如果我们要使用这样的 $x$ 既存在又唯一，那么我们可以使用量词如“恰好对于一个 $x$”来代替“对某个 $x$”。）要证明这种命题，只需要找到一个满足条件的 $x$即可。例如，为了证明
$$
x^2+2x-8=0 \ 对某个实数 x 成立
$$
我们只需要找到一个实数 $x$ 使得 $x^2+2x-8=0$，比如 $x=2$ 就是这样的实数（我们还可以使用 $x=-4$，但没要同时使用两个）。注意，当证明“对某个······成立”的命题时，我们可以自由地选取想要的 $x$；而与此形成鲜明对比的是，当证明“对所有的······成立”的命题时，我们必须令 $x$ 是任意的。（为了比较这两种命题，你可以想象你和对手进行了两个游戏。在第一个游戏中，对手出示 $x$ 是什么，而你必须证明 $P(x)$ 为真。如果你能在这个游戏中始终保持胜利，那么你就证明了 $P(x)$ 对所有的 $x$ 均为真。在第二个游戏中，你来选取 $x$ 是什么，然后证明 $P(x)$ 为真。如果你能赢得胜利，那么你就证明了 $P(x)$ 对某个 $x$ 为真。）

说某事对所有的 $x$ 为真，通常比只说它对**某个** $x$ 为真要强很多。但有一种情形除外，如果无法满足附加在 $x$ 上的条件，那么“对所有的······成立”的命题就是空虚的真命题，而“对某个······成立”的命题就是假命题。例如
$$
6<2x<4 \ 对所有的\ 3<x<2 \ 均成立
$$
是真命题，而
$$
6<2x<4 \ 对某个\ 3<x<2 \ 成立
$$
是假命题。

我们可以使用短语“至少对一个”或“存在······使得”来代替“对某个”。例如，我们可以把“对某个实数 $x$ 有 $x^2+2x-8=0$”改写成“存在一个实数 $x$ 使得 $x^2+2x-8=0$”。符号 $\exist$ 可以用来替换“存在······使得”，例如“$\exist x \in X: P(x)$为真”与“对某个 $x \in X$ 有 $P(x)$ 为真”具有相同的意义。

## A.5 嵌套量词

我们可以把两个或者更多个量词嵌套在一起。例如，考虑命题
$$
“对于每个正数 x，存在一个正数 y 使得  y^2=x”
$$
这个命题表达了什么意思？它是指对任意的正数 $x$，命题
$$
“存在一个正数 y 使得 y^2=x”
$$
都为真。换言之，对任意的正数 $x$，我们能找到 $x$ 的一个正的平方根。所以，该命题表明每个正数都存在一个正的平方根。

我们继续用游戏来打比方。假设你和对手进行这样一个游戏：对手先选取一个正数 $x$，然后你再选取一个正数 $y$。只要 $y^2=x$，你就获得胜利。如果无论对手选取的 $x$ 是什么，你总能获得胜利，那么你就证明了对于每个正数 $x$ 都存在一个正数 $y$ 使得 $y^2=x$。

否定一个全称命题就产生了一个存在命题。“所有的天鹅都是白色的”的否定并不是“所有的天鹅都不是白色的”，而是“存在某个天鹅不是白色的”。类似地，“对每个$0<x<\pi/2$都有 $\cos(x) \geqslant 0$”的否定是“对某个 $0<x<\pi/2$有 $\cos(x)<0$”，而不是“对每个 $0<x<\pi/2$ 都有 $\cos (x)<0$”。

否定一个存在命题就产生了一个全称命题。“有一个黑色的天鹅”的否定并不是“有一个天鹅不是黑色的”，而是“所有的天鹅都不是黑色的”。类似地，“存在一个实数 $x$ 使得 $x^2+x+1=0$” 的否定是“对每个实数 $x$ 都有 $x^2+x+1 \neq 0$”，而不是“存在一个实数 $x$ 使得 $x^2+x+1 \neq 0$”。（这种情形完全类似于“和”与“或”对否定的处理。）

如果你知道命题 $P(x)$ 对所有的 $x$ 均为真，那么你就可以令 $x$ 取到任何你所希望的值，而且 $P(x)$ 对 $x$ 的那个取值也为真，这就是“对所有的”的含义。例如，如果你知道
$$
(x+1)^2=x^2+2x+1 \ 对所有的实数 x 均成立
$$
那么你就能得到，比如
$$
(\pi+1)^2=\pi^2+2x\pi+1
$$
也可以得到
$$
(\cos(y)+1)^2=\cos(y)^2+2cos(y)+1 \ 对所有的实数 y 均成立
$$
（因为如果 $y$ 是实数，那么 $\cos(y)$也是实数），以此类推。因此，全称命题应用非常广泛，你可以让 $P(x)$ 对任何你所希望的 $x$ 成立。相比之下，存在命题的应用更为局限。如果你知道
$$
x^2+2x-8=0 对某个实数 x 成立
$$
那么你不能简单地把所希望的任何实数，如 $\pi$，代入上式并断言 $\pi^2+2\pi-8=0$。当然，你仍然能够断定 $x^2+2x-8=0$ 对某个实数 $x$ 成立，只不过你没有指明这个 $x$ 是什么。（继续用游戏来打比方，你能够使用 $P(x)$ 成立，但由你的对手为你选取 $x$，而你自己不选取 $x$。）

**注 A.5.1** 在逻辑学的发展史中，对量词的正式研究比对布尔逻辑的正式研究早了几千年。实际上，由亚里士多德（公元前 $384$—前 $322$）以及他的学术群体所建立的**亚里士多德逻辑学**研究了对象、对象的性质以及诸如“对所有的”和“对某个”这样的量词。在亚里士多德逻辑学中，一个典型的推理（或**三段论**）过程是这样的：“人终有一死，苏格拉底是人。所以苏格拉底终有一死。”亚里士多德逻辑学是数理逻辑的一个分支，但是它并不容易表述，因为它缺少像“和”“或”以及“如果······那么”这样的逻辑连接词（尽管它含有“非”），而且它还缺少如“=”和“<”这样的二元关系概念。

交换两个量词的先后次序有可能改变命题的真假，也可能不改变命题的真假。而交换两个“对所有的”量词的先后次序不会产生任何影响：比如命题
$$
“对所有的实数 a 以及 对所有的实数 b， 均有 (a+b)^2=a^2+2ab+b^2”
$$
在逻辑上等价于命题
$$
“对所有的实数 b 以及对所有的实数 a，均有 (a+b)^2=a^2+2ab+b^2”
$$
（为什么？这个原因与等式 $(a+b)^2=a^2+2ab+b^2$ 是否为真无关。）类似地，交换两个“存在一个”量词的先后次序也没有影响：
$$
“存在一个实数 a 并且存在一个实数 b 使得 a^2+b^2=0”
$$”
在逻辑上等价于命题
$$
“存在一个实数 b 并且存在一个实数 a 使得 a^2+b^2=0”
$$

然而，交换“对有所的”和“存在一个”就完全不同。考虑下面两个命题：

(a) 对于每个月整数 $n$，都存在一个大于 $n$ 的整数 $m$。

(b) 存在一个整数 $m$ 比每一个整数 $n$ 都大。

命题 (a) 显然为真：如果你的对手向你出示一个整数 $n$，那么你总能找到一个大于 $n$ 的整数 $m$。但命题 (b) 是假的：如果你先选取了一个整数 $m$，那么你无法保证这个 $m$ 比每个整数 $n$ 都大；你的对手能够很容易找到一个比 $m$ 大的整数 $n$ 来打败你。这两个命题关键的区别在于，在命题 (a) 中，先选取了整数 $n$，然后根据 $n$ 来选取整数 $m$。但在命题 (b) 中，在预先不知道 $n$ 取什么值的前提下，我们被迫先选取整数 $m$。总之，量词的先后次序之所以重要是因为内部的变量可能会依赖于外部的变量，但反之不然。

## 习题

A.5.1 下述各命题的意思是什么？哪些命题是真命题？你能分别用一个游戏来比喻这些命题吗？
- (a) 对每一个正数 $x$ 以及每个正数 $y$，都有 $y^2=x$。
- (b) 存在一个正数 $x$，使得对每一个正数 $y$ 都有 $y^2=x$。
- (c) 存在一个正数 $x$ 并且存在一个正数 $y$ 使得 $y^2=x$。
- (d) 对于每一个正数 $y$，都存在一个正数 $x$ 使得 $y^2=x$。
- (e) 存在一个正数 $y$，使得对每一个正数 $x$ 都有 $y^2=x$。

**答：** 
- (a) 错误。就用游戏比喻而言：你的对手向你出示两个正数 $x$ 和 $y$，只要 $y^2=x$，你就获得胜利，只有你总能获得胜利时，命题(a)才是正确的。然而显然你不可能总能获得胜利，比如当你的对手出 $x=1$ 和 $y=2$ 时，$y^2=4$ 而 $x=1$，二者不相等，此时你就输了。
- (b) 错误。就用游戏比喻而言：你先选取一个正数 $x$，你的对手再不断选取一个正数 $y$，只要 $y^2=x$ 你就获得胜利。如果无论对手选取的 $y$ 时什么，你总能获得胜利，那么就证明了命题(b)时正确的。但是显然你不可能总能获得胜利，比如你的对手选择 $y:=x+1$。
- (c) 正确。就用游戏比喻而言：你和你的对手分别选取 $x$ 和 $y$，只要 $y^2=x$，你就获得胜利。只要你获胜一次，那么命题(c)就是正确的。显然这是可能的，由于你和你的对手可以取任何正数，完全有可能出现 $x=4$ 而 $y=2$ 的情况，此时 $y^2=x$。
- (d) 正确。就用游戏比喻而言：你的对手先向你出示一个正数 $y$，然后你再选取一个正数 $x$，只要 $y^2=x$，你就获得胜利。如果无论对手选取的 $y$ 时什么，你总能获得胜利，那么命题(d)就是正确的。由于你选则 $x$ 前已经知道了对手所选取的 $y$ 是几，因此你完全可以选择 $x=y^2$ 来确保你每次都获得胜利。
- (e) 错误。就用游戏比喻而言，你先向你的对手出示一个正数 $y$，你的对手根据你出示的结果不断选择 $x$，只要 $y^2=x$，你就获得一次胜利，如果无论对手选择多少次 $x$，你都能获胜，那么命题(e)就是正确的。但是显然这是不可能的，因为你的对手在选择前已经知道了你所选择的 $y$ 的值，为了不让你获胜，他完全可以选 $x:=y^2+1$。

## A.6 关于证明和两次的一些例子

现在我们给出一些包含量词“对所有的”和量词“存在一个”的证明的简单例子。结论本身很简单，但是你应当集中精力去观察这些量词是如何安置的以及整个证明时如何构建的。

**命题 A.6.1** 对每一个 $\varepsilon > 0$，都存在一个 $\delta >0$ 使得 $2\delta < \varepsilon$。

**证明：** 设 $\varepsilon$ 是任意的，我们必须证明存在一个 $\delta > 0$ 使得 $2 \delta < \varepsilon$。我们只需要找到一个这样的 $\delta$ 即可，选取 $\delta:=\varepsilon/3$ 就满足要求，因为此时有 $2\delta=2\varepsilon/3<\varepsilon$。<span style="float: right">□</span>

注意，这里必须让 $\varepsilon$ 是任意的，因为我们要证明的结论对于每一个 $\varepsilon$ 都成立。另外，$\delta$ 的选择可以由你自己来决定，因为只需要证明存在一个 $\delta$ 满足需求。还要注意，$\delta$ 依赖于 $\varepsilon$，因为 $\delta$-量词时嵌套在 $\varepsilon$-量词里的。如果把量词的次序颠倒过来，也就是说，如果要证明的是“存在一个 $\delta >0$，使得对每个 $\varepsilon > 0$ 都有 $2\delta < \varepsilon$”，那么在给定 $\varepsilon$ 之前，你必须先选取 $\delta$。在这种情形下，命题时无法证明的，因为它是一个假命题。（为什么？）

!!! question 随想
    由于在给定 $\varepsilon$ 之前 $\delta$ 已经给出，所以我们可以选取 $\varepsilon:=2\delta$，此时 $2\delta=\varepsilon$，这与该命题矛盾。因此该命题是假命题。


通常情况下，当我们要证明“存在一个······”的命题时，比如“证明存在一个 $\varepsilon$ 使得 $X$ 为真”时，我们要小心地选取 $\varepsilon$，然后证明 $X$ 对该 $\varepsilon$ 为真。但是这有时需要我们有很强的预见性，而且直到 $\varepsilon$ 应满足的性质在后面的论证中变得更加清晰时，我们才能合理地选取 $\varepsilon$。我们唯一需要注意的是，保证 $\varepsilon$ 不依赖于任何嵌套在 $X$ 的约束变量。例如：

**命题 A.6.2** 存在一个 $\varepsilon > 0$，使得对所有的 $0<x<\varepsilon$ 都有 $\sin(x) > x/2$。

**证明：** 我们稍后在选取 $\varepsilon > 0$，设 $0<x<\varepsilon$。因为 $\sin(x)$ 的导数时 $\cos(x)$，所以根据中值定理可知，存在某个 $0 \leqslant y \leqslant x$ 使得
$$
\frac{\sin(x)}{x}=\frac{\sin(x)-\sin(0)}{x-0}=\cos(y)
$$
于是，为了保证 $\sin(x)>x/2$，只需要保证 $\cos(y)>1/2$即可。因此，只需要确保 $0 \leqslant y \leqslant \pi/3$即可（因为余弦函数在 $0$ 处的值为 $1$，在 $\pi/3$ 处的值为 $1/2$，并且它在 $0$ 和 $\pi/3$之间时单调递减的）。由$0 \leqslant y \leqslant x$ 和 $0<x<\varepsilon$ 可知，$0 \leqslant y < \epsilon$。因此，如果令 $\varepsilon := \pi/3$，那么就有 $0 \leqslant y < \pi/3$，结论得证，因此我们能够保证对所有的 $0 < x< \varepsilon$ 都有 $\sin(x)>x/2$。<span style="float: right">□</span>

注意，我们最后选取的 $\varepsilon$ 的取值不取决于嵌套变量 $x$ 和 $y$，所以上述论证是合理的。实际上，我们可以重新排布整个证明，从而不会延迟任何事情。

**证明：** 令 $\varepsilon := \pi/3$，那么显然有 $\varepsilon > 0$。现在我们必须证明对所有的 $0 < x < \pi/3$ 都有 $\sin(x) > x/2$。令 $0<x<\pi/3$ 是任意的，根据中值定理，存在某个 $0 \leqslant y \leqslant x$使得
$$
\frac{\sin(x)}{x}=\frac{\sin(x)-\sin(0)}{x-0}=\cos(y)
$$
由 $0 \leqslant y \leqslant x$ 和 $0<x<\pi/3$ 可知，$0 \leqslant y <\pi/3$。所以，根据余弦函数在区间 $[0,\pi/3]$ 上是单调递减的可知，$\cos(y) > \cos(\pi/3)=1/2$。因此 $\sin(x)/x>1/2$，结论得证。

如果我们选取一个取决于 $x$ 和 $y$ 的 $\varepsilon$，那么整个论证不成立，因为 $\varepsilon$ 是外部变量，而 $x$ 和 $y$ 是嵌套在 $\varepsilon$ 中的变量。

## A.7 相等

正如前文曾提到过的那样，我们可以按照下述流程来构造命题。从表达式（如 $2 \times 3+5$）开始，然后问该表达式是否满足某个特定的性质，又或者能否用某种关系（$=$、$\leqslant$、$\in$ 等）把两个表达式联系起来。有很多种关系，其中最重要的一种是**相等关系**。这个概念值得我们花费一些时间来回顾。

相等是把属于同一种类型 $T$ 的两个对象 $x$ 和 $y$（例如，两个整数、两个矩阵或者两个向量等）联系在一起的关系。给定两个这样的对象 $x$ 和 $y$，命题 $x = y$可能为真，也可能为假。命题的真假既取决于 $x$ 的值和 $y$ 的值，又取决于对所考察的这类对象，相等是如何定义的。例如，实数 $0.9999\cdots$ 和 $1$ 是相等的。在模 $10$ 算法中（此时，我们认为一个数与它模 $10$ 后的余数是相等的），数 $12$ 和 $2$ 被看作是相等的，即 $12=2$，尽管这在普通的算术中不成立。

相等是如何定义的取决于所考察的类型 $T$，而且从某种程度上来说，这只不过是一个关于下定义的问题而已。然而，从逻辑学的角度来说，我们要求相等遵守下面四条**相等公理**：
- （自反公里）给定任意的对象 $x$，我们有 $x=x$。
- （对称公理）给定任意两个同类型的对象 $x$ 和 $y$，如果 $x=y$，那么$y=x$。
- （传递公理）给定任意三个同类型的对象 $x$、$y$ 和 $z$，若 $x=y$ 且 $y=z$，则 $x=z$。
- （替换公理）给定任意两个同类型的对象 $x$ 和 $y$，如果 $x=y$，那么对任意一个函数或者运算 $f$ 都有 $f(x)=f(y)$。类似地，对任意一个关于 $x$ 的性质 $P(x)$，如果 $x=y$，那么 $P(x)$ 和 $P(y)$ 就是等价的命题。

前三条公理显然成立，而且它们结合在一起就断定了相等是一种**等价关系**。我们给出一些例子来阐述替换公理。

**例 A.7.1** 设 $x$ 和 $y$ 都是实数，如果 $x=y$，那么 $2x=2y$ 并且 $\sin(x)=\sin(y)$。此外，对任意的实数 $z$ 都有 $x+z=y+z$。

**例 A.7.2** 设 $n$ 和 $m$ 都是整数，如果 $n$ 是奇数并且 $n=m$，那么 $m$ 也一定是奇数。如果还有第三个整数 $k$，并且已经知道 $n > k$ 和 $n=m$，那么我们也就知道了 $m > k$。

**例 A.7.3** 设 $x$、$y$ 和 $z$ 都是实数，如果 $x=\sin(y)$ 并且 $y=x^2$，那么（利用替换公理）可知 $\sin(y)=\sin(z^2)$，从而有（利用传递公理）$x=\sin(z^2)$。

所以，从逻辑学的角度来说，只要我们愿意，就可以对一类对象定义相等关系。而且我们必须保证这个想等关系遵守自反公理、对称公理和传递公理，并且它能够与所讨论的这类对象上的其他所有运算保持一致，也就是说，替换公理对所有这些运算均成立。例如，如果有一天我们决定修改整数，使得 $12$ 等于 $2$，那么我们唯一能做的就是让 $2$ 等于 $12$，并且对任意一个定义在修改后的整数上的运算 $f$，均有 $f(2)=f(12)$。比如，现在我们需要让 $2+5$ 等于 $12+5$。（在这种情况下，按照这样的思路推理下去，我们最终将得到模 $10$ 的算术运算。）

## 习题

A.7.1 假设有四个实数 $a$、$b$、$c$ 和 $d$，并且已知 $a=b$ 和 $c=d$，利用上述四条公理推导出 $a+d=b+c$

**答：** 因为 $a=b$，根据替换公理可知 $a+d=b+d$。类似地，因为 $c=d$，所以 $b+c=b+d$，根据对称公理可知 $b+d=b+c$，再根据传递公理可知 $a+d=b+c$。 

[^1]: 更准确地说，不含自由变量的命题要么为真，要么为假。稍后我们将在本附录中讨论自由变量。